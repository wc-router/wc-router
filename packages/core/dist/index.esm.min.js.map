{"version":3,"file":"index.esm.min.js","sources":["../src/config.ts","../src/getUUID.ts","../src/raiseError.ts","../src/assignParams.ts","../src/GuardCancel.ts","../src/components/Route.ts","../src/components/Layout.ts","../src/components/Outlet.ts","../src/components/LayoutOutlet.ts","../src/parse.ts","../src/matchRoutes.ts","../src/applyRoute.ts","../src/showRouteContent.ts","../src/components/Router.ts","../src/components/Link.ts","../src/registerComponents.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["config","tagNames","route","router","outlet","layout","layoutOutlet","link","enableShadowRoot","getUUID","crypto","randomUUID","replace","c","r","Math","random","toString","raiseError","message","Error","bindTypeSet","Set","assignParams","element","params","hasAttribute","tagName","bindTypeText","getAttribute","has","bindType","key","value","Object","entries","props","states","setAttribute","GuardCancel","fallbackPath","constructor","super","this","Route","HTMLElement","_name","_path","_routeParentNode","_routeChildNodes","_routesNode","_uuid","_placeHolder","_childNodeArray","_isMadeArray","_paramNames","_patternText","_params","_absolutePattern","_weight","_absoluteWeight","_childIndex","_hasGuard","_guardHandler","_waitForSetGuardHandler","_resolveSetGuardHandler","_guardFallbackPath","_initialized","routeParentNode","routeChildNodes","push","length","routesNode","path","isRelative","startsWith","_checkParentNode","hasParentCallback","noParentCallback","absolutePath","parentPath","endsWith","uuid","placeHolder","rootElement","shadowRoot","childNodeArray","Array","from","childNodes","testPath","testResult","exec","RegExp","absolutePatternText","absoluteParamNames","forEach","paramName","index","routes","lastPath","concat","patternText","parentPattern","weight","absoluteWeight","childIndex","name","guardCheck","matchResult","toPath","fromPath","show","parentNode","nextSibling","node","insertBefore","appendChild","nodeType","Node","ELEMENT_NODE","querySelectorAll","e","toLowerCase","hide","removeChild","shouldChange","newParams","guardHandler","initialize","segments","split","patternSegments","segment","substring","join","Promise","resolve","cache","Map","Layout","_loadTemplateFromSource","source","response","fetch","ok","status","templateContent","text","set","error","_loadTemplateFromDocument","id","document","getElementById","HTMLTemplateElement","innerHTML","loadTemplate","layoutId","console","warn","template","createElement","get","_initialize","connectedCallback","Outlet","_lastRoutes","rootNode","lastRoutes","attachShadow","mode","LayoutOutlet","_layout","_layoutChildNodes","content","cloneNode","childNode","fragmentForTemplate","slotElementBySlotName","slotElement","slotName","fragmentBySlotName","fragmentForChildNodes","createDocumentFragment","Element","fragment","replaceWith","defaultSlot","createLayoutOutlet","async","_parseNode","map","appendNode","childFragment","cloneElement","importNode","customElements","upgrade","createComment","children","parse","_matchRoutes","routerNode","routeNode","results","nextRoutes","childRoute","applyRoute","fullPath","basename","slice","topLevelRoutes","sort","a","b","lastRouteA","at","lastRouteB","diffWeight","matchRoutes","routesSet","err","guardCancel","queueMicrotask","navigate","lastRouteSet","force","showRouteContent","Router","static","_outlet","_template","_basename","_instance","_normalizePath","_getBasename","URL","baseURI","pathname","instance","_getOutlet","querySelector","body","_getTemplate","window","navigation","history","pushState","_onNavigateFunc","navEvent","canIntercept","hashChange","downloadRequest","intercept","handler","url","destination","_onNavigate","bind","hasBaseTag","location","href","addEventListener","disconnectedCallback","removeEventListener","Link","_commentNode","_router","_anchorElement","commentNode","_updateActiveState","remove","currentPath","linkPath","classList","add","registerComponents","define"],"mappings":"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"}