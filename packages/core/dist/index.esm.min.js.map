{"version":3,"file":"index.esm.min.js","sources":["../src/config.ts","../src/getUUID.ts","../src/raiseError.ts","../src/assignParams.ts","../src/components/Route.ts","../src/components/Layout.ts","../src/components/Outlet.ts","../src/components/LayoutOutlet.ts","../src/parse.ts","../src/matchRoutes.ts","../src/applyRoute.ts","../src/showRouteContent.ts","../src/components/Router.ts","../src/components/Link.ts","../src/registerComponents.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["config","tagNames","route","router","outlet","layout","layoutOutlet","link","enableShadowRoot","getUUID","crypto","randomUUID","replace","c","r","Math","random","toString","raiseError","message","Error","bindTypeSet","Set","assignParams","element","params","hasAttribute","tagName","bindTypeText","getAttribute","has","bindType","key","value","Object","entries","props","states","setAttribute","Route","HTMLElement","_name","_path","_routeParentNode","_routeChildNodes","_routesNode","_uuid","_placeHolder","_childNodeArray","_isMadeArray","_paramNames","_patternText","_params","_absolutePattern","_weight","_absoluteWeight","_childIndex","_hasGuard","_guardHandler","_waitForSetGuardHandler","_resolveSetGuardHandler","_guardFallbackPath","constructor","super","this","segments","split","patternSegments","segment","startsWith","push","substring","join","Promise","resolve","routeParentNode","routeChildNodes","length","routesNode","path","isRelative","_checkParentNode","hasParentCallback","noParentCallback","absolutePath","parentPath","endsWith","uuid","placeHolder","rootElement","shadowRoot","childNodeArray","Array","from","childNodes","testPath","testResult","exec","RegExp","absolutePatternText","absoluteParamNames","forEach","paramName","index","routes","concat","patternText","parentPattern","weight","absoluteWeight","childIndex","name","show","toPath","fromPath","queueMicrotask","navigate","parentNode","nextSibling","node","insertBefore","appendChild","nodeType","Node","ELEMENT_NODE","querySelectorAll","e","toLowerCase","hide","removeChild","shouldChange","newParams","guardHandler","cache","Map","Layout","_loadTemplateFromSource","source","response","fetch","ok","status","templateContent","text","set","error","_loadTemplateFromDocument","id","document","getElementById","HTMLTemplateElement","innerHTML","loadTemplate","layoutId","console","warn","template","createElement","get","Outlet","_lastRoutes","attachShadow","mode","rootNode","lastRoutes","connectedCallback","LayoutOutlet","_layout","_isInitialized","_layoutChildNodes","_initialize","content","cloneNode","childNode","fragmentForTemplate","slotElementBySlotName","slotElement","slotName","fragmentBySlotName","fragmentForChildNodes","createDocumentFragment","Element","fragment","replaceWith","defaultSlot","createLayoutOutlet","async","_parseNode","map","appendNode","childFragment","cloneElement","importNode","customElements","upgrade","createComment","children","parse","fr","log","_matchRoutes","routeNode","results","nextRoutes","matchResult","childRoute","applyRoute","routerNode","fullPath","basename","slice","topLevelRoutes","sort","a","b","lastRouteA","at","lastRouteB","diffWeight","matchRoutes","routesSet","lastRouteSet","force","showRouteContent","Router","static","_outlet","_template","_basename","_getBasename","hasBaseTag","querySelector","url","URL","window","location","href","pathname","_instance","_normalizePath","baseURI","instance","_getOutlet","body","_getTemplate","navigation","history","pushState","_onNavigateFunc","navEvent","canIntercept","hashChange","downloadRequest","intercept","handler","destination","_onNavigate","bind","addEventListener","disconnectedCallback","removeEventListener","Link","_commentNode","_router","_anchorElement","commentNode","_updateActiveState","remove","currentPath","linkPath","classList","add","define"],"mappings":"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"}